#!/bin/bash

#Definitions:

DEFCONF="pico_defconfig"
export KERNELDIR=~/kernel-3.0.80
export OUTDIR=~/kernel-3.0.80/out
export RAMDISKDIR=~/kernel-3.0.80/ramdisk

echo -e "Kernel Build Script by Nihar.G"

echo ""

echo "Cleaning"

make mrproper
make clean

echo "Building zImage"
make $DEFCONF
make -j16

echo -e "Copying zImage to $OUTDIR"

cp $KERNELDIR/arch/arm/boot/zImage $OUTDIR/zImage
